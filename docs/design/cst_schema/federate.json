[
  {
    "cu_name": "federate documents"
  },
  {
    "cu_name": "helics",
    "image": "cosim-helics:latest",
    "commands": [
      { "command": "/bin/bash -c \"exec helics_broker --ipv4 -f 3 --loglevel=warning --name=broker\"",
        "federate_type": "value",
        "time_step": 120 },
      { "command": "/bin/bash -c \"exec helics_player\"",
        "federate_type": "value",
        "time_step": 120 }
    ]
  },
  {
    "cu_name": "python",
    "image": "cosim-python:latest",
    "environment": {
      POSTGRES_HOST: "${POSTGRES_HOST}",
      POSTGRES_PORT: "${POSTGRES_PORT}",
      COSIM_DB: "${COSIM_DB}",
      COSIM_USER: "${COSIM_USER}",
      COSIM_PASSWORD: "${COSIM_PASSWORD}"
    },
    "commands": [
      {
        "federate": "logger",
        "command": "/bin/bash -c \"source /home/worker/venv/bin/activate && exec python3 -c \"import cosim_toolbox.federateLogger as datalog; datalog.main('FederateLogger', 'test_schema', 'test_scenario')\"",
        "federate_type": "value",
        "time_step": 120
      },
      {
        "federate": "battery",
        "command": "/bin/bash -c \"python3 simple_federate2.py Battery test_scenario\"",
        "federate_type": "value",
        "time_step": 120
      },
      {
        "federate": "eVehicle",
        "command": "/bin/bash -c \"python3 simple_federate2.py Battery test_scenario\"",
        "federate_type": "value",
        "time_step": 120
      }
    ]
  },
  {
    "cu_name": "gridlabd",
    "image": "cosim-gridlabd:latest",
    "commands":
    [
      {
        "federate": "gridlabd",
        "command": "/bin/bash -c \"exec gridlabd test_MyScenario\"",
        "federate_type": "value",
        "time_step": 30
      }
    ]
  }
]