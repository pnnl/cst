---
title: 'CoSim Toolbox - Making HELICS Co-Simulations Easier'
tags:
  - Python
  - co-simulation
  - HELICS
authors:
  - name: Trevor Hardy
    orcid: 0000-0001-6748-8803
    equal-contrib: true
    affiliation: 1
  - name: Mitch Pelton
    equal-contrib: true
    affiliation: 1
  - name: Nathan Gray
    orcid: 
    equal-contrib: true
    affiliation: 1
  - name: Fred Rutz
    orcid: 
    affiliation: 1
  - name: Wen Bo
    orcid: 
    affiliation: 1
affiliations:
 - name: Pacific Northwest National Laboratory
   index: 1
   ror: 05h992307
date: 22 August 2025
bibliography: paper.bib
---

# Summary
Co-simulation is a technique for creating larger and more complex time-series system models by facilitating data exchange between two or more models during runtime. This data exchange allows boundary states in models which may have been defined through static values or historical values to be dynamically generated by models in other simulator instances. This dynamic data exchange allows for system models that transcend individual simulation tools, modeled domains, and modeled subsystems. FMI [@fmi_github], particularly as implemented in Modelon, is an example of a popular co-simulation platform

HELICS [@Hardy:2024aa] is the US Department of Energy's publicly available co-simulation platform and has been under development for over eight years. HELICS provides the necessary simulation time management and facilitates the data exhanges between simulator instances (called "federates") and has been sucessfully used in a number of published studies such as [Theisen:2024aa], [Bharati:2023aa], [Panossian:2023aa] and [Lardier:2020aa]. Though these studies largely focus on power system applications, HELICS itself is domain agnostic.

CoSim Toolbox (CST) is built on top of HELICS and has the goal of making HELICS-based co-simulations easier to manage. Based on years of experience using HELICS, we have found a number of pain points around data and metadata management that CoSim Toolbox is designed to alleviate. Specifically, we have integrated the following tools and code to make using HELICS easier.

- **Docker** - Docker containers are used to distribute HELICS, the CST API as well as any CST-enabled simulation tools. This allows the use of CST on all Linux, MacOS, and Windows while minimizing the maintenance of these codebases.
- **Generic Federate class** - To facilitate writing new federates more easily, CST provides a generic federate class that for use when writing new Python federates. This class wraps the HELICS APIs and facilitates data exchanges using just Python data structures. By minimizing the amount of knowledge of HELICS APIs, we have seen those with no knowledge of HELICS be able to more easily implement a HELICS-based co-simulation using this CST federate class.
- **Time-Series Data Collection** - A Postgres database is use to collect time-series data being generated by every federate. A data collection federate has been written using the CST APIs to collect data generated by the HELICS-enabled data exchanges and automatically commit it to the Postgres database. This allows data to be stored and thus accessed in a central location, making it easier to monitor and post-process the co-simulation data. The Postgres database is implemented as a Docker container along with pgAdmin to provide a web interface for inspecting the Postgres database.
- **Metadata and Configuration Management** - HELICS federates require significant configuration which has historically been accomplished by JSON files on disk. Particuarly for larger federations, this leads to a significant number of JSON files, sometimes leading to confusion about which files correspond to the data produces in a given co-simulation run. To help manage this configuration data, CST uses MongoDB to store and the configuration information with the CST federate class designed to automatically retrieve a given federates configuration. The MongoDB database is implemented as a Docker container along with Mongo Express to provide a a web interface for inspecting the MongoDB database.